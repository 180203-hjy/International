<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>+1Êïô‰Ω†Â≠¶Ëê•ÈîÄ2.0</title>
    <!-- ÂºïÂÖ• Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ÂºïÂÖ• React Âíå Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <style>
        /* Ëá™ÂÆö‰πâÂä®Áîª */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        @keyframes popIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-pop-in {
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        /* 3D ÁøªËΩ¨ÊïàÊûú */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        /* ÁßªÂä®Á´Ø‰ºòÂåñ */
        body { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans selection:bg-blue-100 min-h-screen">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ÂõæÊ†áÁªÑ‰ª∂ (SVG) ---
        const Icons = {
            BookOpen: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            GraduationCap: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>,
            Check: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="20 6 9 17 4 12"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            ChevronRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="9 18 15 12 9 6"/></svg>,
            ChevronLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="15 18 9 12 15 6"/></svg>,
            ArrowLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
            ArrowRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
            Settings: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
            Lightbulb: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="9" y1="18" x2="15" y2="18"/><line x1="10" y1="22" x2="14" y2="22"/><path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 12 2a4.65 4.65 0 0 0-4.5 9.5c.7.8 1.15 1.59 1.41 2.5"/></svg>,
            RotateCw: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 2v6h-6"/><path d="M21 13a9 9 0 1 1-3-7.7L21 8"/></svg>,
            MousePointer2: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m12 6 6 6-6 6"/><path d="M22 12H2"/></svg>, // Simplified as pointer isn't crucial
            Type: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>,
            Trophy: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
        };

        // --- Êï∞ÊçÆ (Data) ---
        const qaDataRaw = [
            {
                id: 1,
                question: "What is international marketing? (‰ªÄ‰πàÊòØÂõΩÈôÖËê•ÈîÄÔºü)",
                answer: "International marketing is defined as the performance of business activities designed to plan price promote and direct the flow of a company's goods and services to consumers or users in more than one nation for a profit",
                explanation: "ÂõΩÈôÖËê•ÈîÄË¢´ÂÆö‰πâ‰∏∫‰ºÅ‰∏ö‰∏∫Ëé∑ÂèñÂà©Ê∂¶ËÄåÂú®Â§ö‰∏™ÂõΩÂÆ∂ÂºÄÂ±ïÁöÑÂïÜ‰∏öÊ¥ªÂä®ÔºåËøô‰∫õÊ¥ªÂä®Êó®Âú®ËÆ°Âàí„ÄÅÂÆö‰ª∑„ÄÅ‰øÉÈîÄÂíåÂºïÂØºÂÖ¨Âè∏ÂïÜÂìÅÂíåÊúçÂä°ÊµÅÂêëÊ∂àË¥πËÄÖÊàñÁî®Êà∑„ÄÇ",
                keywords: ["performance", "business", "activities", "plan", "price", "promote", "direct", "flow", "goods", "services", "profit"]
            },
            {
                id: 2,
                question: "What is global brand? (‰ªÄ‰πàÊòØÂÖ®ÁêÉÂìÅÁâåÔºü)",
                answer: "A global brand is defined as the worldwide use of a name term sign symbol design or combination thereof intended to identify goods or services of one seller and to differentiate them from those of competitors",
                explanation: "ÂÖ®ÁêÉÂìÅÁâåË¢´ÂÆö‰πâ‰∏∫Âú®ÂÖ®ÁêÉËåÉÂõ¥ÂÜÖ‰ΩøÁî®ÂêçÁß∞„ÄÅÊúØËØ≠„ÄÅÊ†áÂøó„ÄÅÁ¨¶Âè∑ÔºàËßÜËßâÂíå/ÊàñÂê¨ËßâÔºâ„ÄÅËÆæËÆ°ÊàñÂÖ∂ÁªÑÂêàÔºåÊó®Âú®ËØÜÂà´Êüê‰∏ÄÂçñÂÆ∂ÁöÑÂïÜÂìÅÊàñÊúçÂä°ÔºåÂπ∂Â∞ÜÂÖ∂‰∏éÁ´û‰∫âÂØπÊâãÁöÑÂïÜÂìÅÊàñÊúçÂä°Âå∫ÂàÜÂºÄÊù•„ÄÇ",
                keywords: ["worldwide", "use", "name", "term", "sign", "symbol", "design", "identify", "differentiate"]
            },
            {
                id: 3,
                question: "Quality definition dimensions? (Ë¥®ÈáèÁöÑÂÆö‰πâÁª¥Â∫¶Ôºü)",
                answer: "market perceived quality and performance quality",
                explanation: "Ë¥®ÈáèÂèØ‰ª•‰ªé‰∏§‰∏™Áª¥Â∫¶Êù•ÂÆö‰πâÔºö(1) Â∏ÇÂú∫ÊÑüÁü•Ë¥®Èáè (market-perceived quality) Âíå (2) ÊÄßËÉΩË¥®Èáè (performance quality)„ÄÇ",
                keywords: ["market", "perceived", "performance"]
            },
            {
                id: 4,
                question: "Five Elements of Culture (ÊñáÂåñÁöÑ‰∫îË¶ÅÁ¥†)",
                answer: "values rituals symbols beliefs and thought processes",
                explanation: "Values(‰ª∑ÂÄºËßÇ), Rituals(Á§º‰ª™‰ª™Âºè), Symbols(Á¨¶Âè∑), Beliefs(‰ø°‰ª∞), Thought processes(ÊÄùÁª¥ËøáÁ®ã)„ÄÇ",
                keywords: ["values", "rituals", "symbols", "beliefs", "thought", "processes"]
            },
            {
                id: 5,
                question: "6Cs of Channel (Ê∏†ÈÅìÁöÑ6C)",
                answer: "Cost Capital Requirements Control Coverage Character and Continuity",
                explanation: "Cost(ÊàêÊú¨), Capital Requirements(ËµÑÊú¨Ë¶ÅÊ±Ç), Control(ÊéßÂà∂), Coverage(Ë¶ÜÁõñËåÉÂõ¥), Character(Ê∏†ÈÅìÁâπÊÄß), Continuity(ÊåÅÁª≠ÊÄß)„ÄÇ",
                keywords: ["cost", "capital", "control", "coverage", "character", "continuity"]
            },
            {
                id: 6,
                question: "4Ps of Marketing Mix (Ëê•ÈîÄÁªÑÂêà4P)",
                answer: "product price place and promotion",
                explanation: "Product(‰∫ßÂìÅ), Price(‰ª∑Ê†º), Place(Âú∞ÁÇπ/Ê∏†ÈÅì), Promotion(‰øÉÈîÄ)„ÄÇ",
                keywords: ["product", "price", "place", "promotion"]
            }
        ];

        const termDataRaw = [
            { id: 1, en: "segment", cn: "ÁªÜÂàÜÔºåÈÉ®Èó®ÂàÜÊîØ" },
            { id: 2, en: "target", cn: "ÁõÆÊ†á" },
            { id: 3, en: "positioning", cn: "ÂÆö‰Ωç" },
            { id: 4, en: "marketer", cn: "ÂèëÁé∞„ÄÅÂ∏ÇÂú∫ÂïÜ‰∫∫„ÄÅÂ∏ÇÂú∫Ëê•ÈîÄ‰∫∫Âëò" },
            { id: 5, en: "marketing", cn: "Êª°ÊÑè„ÄÅ‰øÉÈîÄ„ÄÅËê•ÈîÄ" },
            { id: 6, en: "marketplace", cn: "Â∏ÇÂú∫" },
            { id: 7, en: "promotion", cn: "Â∏ÇÂú∫Êé®Âπø" },
            { id: 8, en: "joint venture", cn: "ÂêàËµÑ‰ºÅ‰∏ö" },
            { id: 9, en: "demographic", cn: "‰∫∫Âè£ÁªüËÆ°" },
            { id: 10, en: "marketing mix", cn: "Ëê•ÈîÄÁªÑÂêà" },
            { id: 11, en: "standardization", cn: "Ê†áÂáÜÂåñ" },
            { id: 12, en: "perceived", cn: "ËÆ§Áü•ÔºåÂèØÊÑüÁü•ÁöÑ" },
            { id: 13, en: "revolution", cn: "Èù©ÂëΩ" },
            { id: 14, en: "evolution", cn: "ÊºîÂèò" },
            { id: 15, en: "processes", cn: "ÊÄùÁª¥ÊñπÂºè" },
            { id: 16, en: "Learn ability", cn: "‰π†ÂæóÊÄß" },
            { id: 17, en: "co-ownership", cn: "ÂÖ±ÊúâÊÄß" },
            { id: 18, en: "inherited", cn: "‰º†ÊâøÊÄß" },
            { id: 19, en: "self-orientation", cn: "‰ª•Ëá™Êàë‰∏∫‰∏≠ÂøÉÁöÑ" },
            { id: 20, en: "power distance index", cn: "ÊùÉÂ®ÅÊåáÊï∞" },
            { id: 21, en: "uncertainty avoidance index", cn: "‰∏çÁ°ÆÂÆöÊÄßÂõûÈÅøÊåáÊï∞" },
            { id: 22, en: "individualism/collective index", cn: "‰∏™‰∫∫‰∏ª‰πâ/ÈõÜ‰ΩìÊåáÊï∞" },
            { id: 23, en: "relationship-oriented", cn: "‰ª•ÂÖ≥Á≥ª‰∏∫ÂØºÂêë" },
            { id: 24, en: "information-oriented", cn: "‰ª•‰ø°ÊÅØ‰∏∫ÂØºÂêë" },
            { id: 25, en: "yielding", cn: "‰∫ßÂá∫" },
            { id: 26, en: "low-context", cn: "‰ΩéËØ≠Â¢É" },
            { id: 27, en: "commit", cn: "ÊâøËØ∫" },
            { id: 28, en: "to conduct", cn: "ÂÅö" },
            { id: 29, en: "antimonopoly", cn: "ÂèçÂûÑÊñ≠" },
            { id: 30, en: "premium", cn: "‰øùÈô©Ë¥π" },
            { id: 31, en: "quantitative", cn: "ÂÆöÈáèÊÄßÁöÑ" },
            { id: 32, en: "developing", cn: "Âà∂ÂÆö" },
            { id: 33, en: "gathering", cn: "Êî∂ÈõÜ" },
            { id: 34, en: "defined as", cn: "Ë¢´ÂÆö‰πâ" },
            { id: 35, en: "inflation", cn: "ÈÄöË¥ßËÜ®ËÉÄ" },
            { id: 36, en: "deflation", cn: "ÈÄöË¥ßÁ¥ßÁº©" },
            { id: 37, en: "By market segment", cn: "Â∏ÇÂú∫ÁªÜÂàÜ" },
            { id: 38, en: "Product segment", cn: "‰∫ßÂìÅÁªÜÂàÜ" },
            { id: 39, en: "sampling", cn: "ÂèñÊ†∑" },
            { id: 40, en: "Advertising measurement", cn: "ÂπøÂëäËÆ°Èáè" },
            { id: 41, en: "alternative", cn: "ÂèØÈÄâÊã©ÁöÑ" },
            { id: 42, en: "tangible", cn: "ÊúâÂΩ¢ÁöÑ" },
            { id: 43, en: "intangible", cn: "Êó†ÂΩ¢ÁöÑ" },
            { id: 44, en: "credit", cn: "‰ø°Áî®" },
            { id: 45, en: "scale", cn: "ËßÑÊ®°" },
            { id: 46, en: "scope", cn: "ËåÉÁï¥" },
            { id: 47, en: "reputation", cn: "ÂêçË™â" },
            { id: 48, en: "franchising", cn: "ÁâπËÆ∏ÁªèËê•" },
            { id: 49, en: "perception", cn: "ËÆ§Áü•" },
            { id: 50, en: "relationship marketing", cn: "ÂÖ≥Á≥ªËê•ÈîÄ" },
            { id: 51, en: "blocked channels", cn: "‰∏ìÂçñÊ∏†ÈÅì" },
            { id: 52, en: "competitive advantage", cn: "Á´û‰∫â‰ºòÂäø" },
            { id: 53, en: "global awareness", cn: "ÂÖ®ÁêÉÊÑèËØÜ" },
            { id: 54, en: "marketing concept", cn: "Â∏ÇÂú∫Ëê•ÈîÄÁêÜÂøµ" },
            { id: 55, en: "Free trade", cn: "Ëá™Áî±Ë¥∏Êòì" },
            { id: 56, en: "agreement", cn: "ÂçèÂÆö" },
            { id: 57, en: "Special drawing rights", cn: "ÁâπÂà´ÊèêÊ¨æÊùÉ" },
            { id: 58, en: "IMF", cn: "ÂõΩÈôÖË¥ßÂ∏ÅÂü∫ÈáëÁªÑÁªá" },
            { id: 59, en: "Social Responsibility and Environment Management", cn: "Á§æ‰ºöË¥£‰ªª‰∏éÁéØÂ¢ÉÁÆ°ÁêÜ" },
            { id: 60, en: "Population Decline and Aging", cn: "‰∫∫Âè£ÂáèÂ∞ëÂíåËÄÅÈæÑÂåñ" },
            { id: 61, en: "Worker Shortage and Immigration", cn: "Â∑•‰∫∫Áü≠Áº∫ÂíåÁßªÊ∞ë" },
            { id: 62, en: "sustainable development", cn: "ÂèØÊåÅÁª≠ÂèëÂ±ï" },
            { id: 63, en: "social group", cn: "Á§æ‰ºöÂõ¢‰Ωì" },
            { id: 64, en: "caste", cn: "ÔºàÂç∞Â∫¶Á§æ‰ºö‰∏≠ÁöÑÔºâÁßçÂßìÔºõÂç∞Â∫¶ÁöÑ‰∏ñË¢≠Èò∂Á∫ß" },
            { id: 65, en: "Cultural Borrowing", cn: "ÊñáÂåñÂÄüÈâ¥" },
            { id: 66, en: "Socialization Adaptation", cn: "Á§æ‰ºöÂåñÈÄÇÂ∫î" },
            { id: 67, en: "Uncertainty Avoidance Index", cn: "‰∏çÁ°ÆÂÆöÊÄßÈÅøÂÖçÊåáÊï∞" },
            { id: 68, en: "Interpretive Knowledge", cn: "Ëß£ÈáäÊÄßÁü•ËØÜ" },
            { id: 69, en: "subornation", cn: "Êî∂‰π∞ÔºàÁªàË∫´Êî∂‰π∞Ôºâ" },
            { id: 70, en: "lubrication", cn: "Ê∂¶ÊªëÔºåÂä†Ê≤πÔºõÊ≤πÊ∂¶" },
            { id: 71, en: "extortion", cn: "Êï≤ËØà, ÂãíÁ¥¢" },
            { id: 72, en: "bribery, business Ethics, individualism", cn: "Ë¥øËµÇÔºåÂïÜ‰∏öÈÅìÂæ∑Ôºå‰∏™‰∫∫‰∏ª‰πâ" },
            { id: 73, en: "Corruption", cn: "ËÖêË¥•" },
            { id: 74, en: "Cultural imperative", cn: "ÊñáÂåñÂøÖË¶ÅÊÄß" },
            { id: 75, en: "silent language", cn: "Ê≤âÈªòËØ≠Ë®Ä" },
            { id: 76, en: "confiscation", cn: "Ê≤°Êî∂" },
            { id: 77, en: "sovereignty", cn: "‰∏ªÊùÉ" },
            { id: 78, en: "domestication", cn: "È©ØÂåñ" },
            { id: 79, en: "arbitration", cn: "‰ª≤Ë£Å" },
            { id: 80, en: "intellectual property right", cn: "Áü•ËØÜ‰∫ßÊùÉ, ÁâàÊùÉ,‰∏ìÂà©" },
            { id: 81, en: "quantitative research", cn: "ÂÆöÈáèÁ†îÁ©∂" },
            { id: 82, en: "analogy", cn: "Á±ªÊØî" },
            { id: 83, en: "strategic international alliances", cn: "ÊàòÁï•ÂõΩÈôÖËÅîÁõü" },
            { id: 84, en: "decentralized organization", cn: "ÂàÜÊùÉÂà∂ÁªÑÁªá" },
            { id: 85, en: "market-entry strategy", cn: "Â∏ÇÂú∫ÂáÜÂÖ•Á≠ñÁï•" },
            { id: 86, en: "marketing mix", cn: "Â∏ÇÂú∫Ëê•ÈîÄÁªÑÂêà" },
            { id: 87, en: "target market", cn: "ÁõÆÊ†áÂ∏ÇÂú∫" },
            { id: 88, en: "Marketing plan", cn: "Â∏ÇÂú∫Ëê•ÈîÄËÆ°Âàí" },
            { id: 89, en: "innovate", cn: "ÂàõÊñ∞" },
            { id: 90, en: "cultural barrier", cn: "ÊñáÂåñÈöúÁ¢ç" },
            { id: 91, en: "homologation", cn: "ÂêåË¥®Âåñ" },
            { id: 92, en: "Promotion strategy", cn: "‰øÉÈîÄÊàòÁï•" },
            { id: 93, en: "GNP", cn: "ÂõΩÊ∞ëÁîü‰∫ßÊÄªÂÄº" },
            { id: 94, en: "Marketing channels", cn: "Â∏ÇÂú∫Ëê•ÈîÄÊ∏†ÈÅì" },
            { id: 95, en: "middleman", cn: "‰∏≠Èó¥ÂïÜ" },
            { id: 96, en: "terminal", cn: "ÁªàÁ´Ø" },
            { id: 97, en: "encourage", cn: "ÊøÄÂä±" },
            { id: 98, en: "marketing management", cn: "ÈîÄÂîÆÁÆ°ÁêÜ" },
            { id: 99, en: "recruit", cn: "ÊãõËÅò" },
            { id: 100, en: "separation allowance", cn: "Á¶ªËÅåÊ¥•Ë¥¥" },
            { id: 101, en: "pricing strategy", cn: "ÂÆö‰ª∑Á≠ñÁï•" },
            { id: 102, en: "currency inflation", cn: "ÈÄöË¥ßËÜ®ËÉÄ" }
        ];

        // --- ËæÖÂä©ÂáΩÊï∞ ---
        const shuffleArray = (array) => {
            let arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        };

        // --- ÁªÑ‰ª∂ ---

        // ‰∏ªËèúÂçï
        const MainMenu = ({ onSelect, isShuffle, setIsShuffle }) => {
            const [showTermOptions, setShowTermOptions] = useState(false);

            return (
                <div className="flex flex-col items-center justify-center min-h-[90vh] md:min-h-[70vh] space-y-8 animate-fade-in p-4 md:p-6 pb-20">
                    <div className="text-center mt-8 md:mt-0">
                        <h1 className="text-3xl md:text-5xl font-bold text-blue-800 mb-2 tracking-tight">+1Êïô‰Ω†Â≠¶Ëê•ÈîÄ2.0</h1>
                        <p className="text-gray-500 text-sm md:text-base">‰∏ì‰∏öÂ§ç‰π† & ÂÜ≤Âà∫Â∑•ÂÖ∑</p>
                        
                        <div className="mt-6 flex items-center justify-center bg-white px-4 py-2 rounded-full shadow-sm border border-gray-100 mx-auto max-w-xs">
                            <Icons.Settings size={16} className="text-gray-400 mr-2" />
                            <span className="text-sm text-gray-600 mr-3">‰π±Â∫èÊ®°Âºè:</span>
                            <button 
                                onClick={() => setIsShuffle(!isShuffle)}
                                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${isShuffle ? 'bg-blue-600' : 'bg-gray-200'}`}
                            >
                                <span className={`${isShuffle ? 'translate-x-6' : 'translate-x-1'} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`}/>
                            </button>
                            <span className={`text-xs ml-2 font-medium ${isShuffle ? 'text-blue-600' : 'text-gray-400'}`}>
                                {isShuffle ? 'ÂºÄÂêØ' : 'ÂÖ≥Èó≠'}
                            </span>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 w-full max-w-2xl">
                        {/* ÊúØËØ≠Âç°Áâá */}
                        <div className="relative group min-h-[160px]">
                            {!showTermOptions ? (
                                <button 
                                    onClick={() => setShowTermOptions(true)}
                                    className="w-full h-full p-6 md:p-8 bg-white rounded-2xl shadow-lg active:scale-95 hover:shadow-xl transition-all border-2 border-transparent hover:border-blue-500 text-left overflow-hidden flex flex-col"
                                >
                                    <div className="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                                        <Icons.BookOpen size={80} className="text-blue-600" />
                                    </div>
                                    <h2 className="text-2xl font-bold text-gray-800 mb-2 flex items-center">
                                        <Icons.BookOpen className="mr-2 text-blue-600" size={24} />
                                        ËÄÉËØïÊúØËØ≠
                                    </h2>
                                    <p className="text-gray-500 text-sm mb-4">102‰∏™Ê†∏ÂøÉËØçÊ±á</p>
                                    <div className="mt-auto flex items-center text-blue-600 font-medium text-sm">
                                        ÈÄâÊã©Ê®°Âºè <Icons.ChevronRight size={16} className="ml-2" />
                                    </div>
                                </button>
                            ) : (
                                <div className="absolute inset-0 bg-white rounded-2xl shadow-lg border-2 border-blue-100 flex flex-col p-4 space-y-3 z-10 animate-fade-in">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-sm font-bold text-gray-400">ÈÄâÊã©Ê®°Âºè</span>
                                        <button onClick={() => setShowTermOptions(false)} className="text-gray-400 hover:text-gray-600 p-1"><Icons.X size={20}/></button>
                                    </div>
                                    <button onClick={() => onSelect('terms', 'en-to-cn')} className="flex-1 bg-blue-50 hover:bg-blue-100 rounded-xl p-3 flex items-center justify-between transition-colors">
                                        <div className="flex items-center">
                                            <div className="bg-white p-2 rounded-lg mr-3 text-blue-600 font-bold text-xs shadow-sm">EN</div>
                                            <div className="text-left">
                                                <div className="font-bold text-gray-800 text-sm">Ëã±ËØë‰∏≠</div>
                                                <div className="text-xs text-gray-500">ÁúãÂçïËØç ÈÄâ‰∏≠Êñá</div>
                                            </div>
                                        </div>
                                        <Icons.ChevronRight className="text-blue-300" size={16} />
                                    </button>
                                    <button onClick={() => onSelect('terms', 'cn-to-en')} className="flex-1 bg-purple-50 hover:bg-purple-100 rounded-xl p-3 flex items-center justify-between transition-colors">
                                        <div className="flex items-center">
                                            <div className="bg-white p-2 rounded-lg mr-3 text-purple-600 font-bold text-xs shadow-sm">‰∏≠</div>
                                            <div className="text-left">
                                                <div className="font-bold text-gray-800 text-sm">‰∏≠ËØëËã±</div>
                                                <div className="text-xs text-gray-500">ÁúãËß£Èáä ÈÄâËã±Êñá</div>
                                            </div>
                                        </div>
                                        <Icons.ChevronRight className="text-purple-300" size={16} />
                                    </button>
                                </div>
                            )}
                        </div>

                        {/* ÁÆÄÁ≠îÈ¢òÂç°Áâá */}
                        <button 
                            onClick={() => onSelect('qa')}
                            className="group relative p-6 md:p-8 bg-white rounded-2xl shadow-lg active:scale-95 hover:shadow-xl transition-all border-2 border-transparent hover:border-purple-500 text-left overflow-hidden min-h-[160px]"
                        >
                            <div className="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                                <Icons.GraduationCap size={80} className="text-purple-600" />
                            </div>
                            <h2 className="text-2xl font-bold text-gray-800 mb-2 flex items-center">
                                <Icons.GraduationCap className="mr-2 text-purple-600" size={24} />
                                ÁÆÄÁ≠îÈ¢ò
                            </h2>
                            <p className="text-gray-500 text-sm mb-4">6ÈÅìÂøÖËÄÉÁÆÄÁ≠î (Âê´ÂÆö‰πâ/4P/6C)</p>
                            <div className="flex items-center text-purple-600 font-medium text-sm mt-auto">
                                ÂºÄÂßãÂ§ç‰π† <Icons.ArrowRight size={16} className="ml-2 group-hover:translate-x-1 transition-transform" />
                            </div>
                        </button>
                    </div>
                </div>
            );
        };

        // ÊúØËØ≠Ê®°ÂºèÁªÑ‰ª∂
        const TermsView = ({ onBack, isShuffle, termMode }) => {
            const [questions, setQuestions] = useState([]);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [isCorrect, setIsCorrect] = useState(false);
            const [wrongOption, setWrongOption] = useState(null); 
            const [shuffledOptions, setShuffledOptions] = useState([]);

            useEffect(() => {
                if (isShuffle) {
                    setQuestions(shuffleArray([...termDataRaw]));
                } else {
                    setQuestions([...termDataRaw]);
                }
                setCurrentIndex(0);
            }, [isShuffle]);
            
            useEffect(() => {
                if (questions.length === 0 || currentIndex >= questions.length) return;
                const currentTerm = questions[currentIndex];
                const otherTerms = termDataRaw.filter(t => t.id !== currentTerm.id);
                const distractors = shuffleArray(otherTerms).slice(0, 3);
                const options = shuffleArray([currentTerm, ...distractors]);
                setShuffledOptions(options);
                setShowResult(false);
                setWrongOption(null);
            }, [currentIndex, questions]);

            const handleOptionClick = (selectedOption) => {
                if (showResult) return; 

                const currentTerm = questions[currentIndex];
                const correct = selectedOption.id === currentTerm.id;
                
                setIsCorrect(correct);
                setShowResult(true);

                if (correct) {
                    setScore(s => s + 1);
                    setTimeout(() => {
                        if (currentIndex < questions.length - 1) {
                            setCurrentIndex(c => c + 1);
                        }
                    }, 800);
                } else {
                    setWrongOption(selectedOption);
                }
            };

            const nextQuestion = () => {
                if (currentIndex < questions.length - 1) {
                    setCurrentIndex(c => c + 1);
                }
            };

            const prevQuestion = () => {
                if (currentIndex > 0) {
                    setCurrentIndex(c => c - 1);
                    setShowResult(false);
                }
            };

            if (questions.length === 0) return <div>Loading...</div>;
            
            const currentTerm = questions[currentIndex];
            const progress = ((currentIndex + 1) / questions.length) * 100;
            const isEnToCn = termMode === 'en-to-cn';
            const questionText = isEnToCn ? currentTerm.en : currentTerm.cn;
            const questionLabel = isEnToCn ? "Term (EN)" : "Definition (CN)";

            return (
                <div className="max-w-2xl mx-auto pt-4 md:pt-8 px-2 md:px-0 pb-24">
                    <div className="flex items-center justify-between mb-4 md:mb-6">
                        <button onClick={onBack} className="text-gray-500 hover:text-gray-700 flex items-center p-2 rounded-lg active:bg-gray-100">
                             <Icons.ArrowLeft size={18} className="mr-1" /> ‰∏ªÈ°µ
                        </button>
                        <div className="text-gray-600 font-medium text-xs md:text-sm flex items-center">
                            <span className="mr-2 px-2 py-0.5 bg-gray-100 rounded text-gray-500">{isShuffle ? '‰π±Â∫è' : 'È°∫Â∫è'}</span>
                            <span>{currentIndex + 1} / {questions.length}</span>
                        </div>
                    </div>

                    <div className="w-full bg-gray-200 rounded-full h-1.5 mb-6 md:mb-8">
                        <div className={`h-1.5 rounded-full transition-all duration-300 ${isEnToCn ? 'bg-blue-600' : 'bg-purple-600'}`} style={{ width: `${progress}%` }}></div>
                    </div>

                    <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6 relative overflow-hidden">
                        <div className="text-center mb-6 md:mb-8">
                            <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 ${isEnToCn ? 'bg-blue-100 text-blue-800' : 'bg-purple-100 text-purple-800'}`}>
                                {questionLabel}
                            </span>
                            <h2 className="text-2xl md:text-4xl font-bold text-gray-800 break-words">{questionText}</h2>
                        </div>

                        <div className="space-y-3">
                            {shuffledOptions.map((opt, idx) => {
                                let btnClass = "w-full p-4 text-left rounded-xl border-2 transition-all font-medium text-base md:text-lg touch-manipulation ";
                                
                                if (showResult) {
                                    if (opt.id === currentTerm.id) {
                                        btnClass += "bg-green-100 border-green-500 text-green-800"; 
                                    } else if (!isCorrect && opt.id === (wrongOption && wrongOption.id)) {
                                        btnClass += "bg-red-50 border-red-400 text-red-600"; 
                                    } else {
                                        btnClass += "bg-gray-50 border-gray-100 text-gray-400 opacity-50"; 
                                    }
                                } else {
                                    btnClass += "bg-white border-gray-200 active:bg-blue-50 active:border-blue-300 md:hover:border-blue-400 md:hover:bg-blue-50 cursor-pointer";
                                }
                                
                                const optionText = isEnToCn ? opt.cn : opt.en;

                                return (
                                    <button
                                        key={idx}
                                        disabled={showResult}
                                        onClick={() => handleOptionClick(opt)}
                                        className={btnClass}
                                    >
                                        <div className="flex items-start justify-between">
                                            <span>{optionText}</span>
                                            {showResult && opt.id === currentTerm.id && <Icons.Check className="w-5 h-5 text-green-600 flex-shrink-0 ml-2" />}
                                            {showResult && !isCorrect && opt.id === (wrongOption && wrongOption.id) && <Icons.X className="w-5 h-5 text-red-600 flex-shrink-0 ml-2" />}
                                        </div>
                                    </button>
                                );
                            })}
                        </div>
                    </div>

                    {/* Â∫ïÈÉ®ÊéßÂà∂Ê†è */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t p-4 flex justify-between items-center md:static md:bg-transparent md:border-0 md:p-0 z-20 shadow-lg md:shadow-none">
                        <button 
                            onClick={prevQuestion}
                            disabled={currentIndex === 0}
                            className="text-gray-500 hover:text-gray-700 disabled:opacity-30 flex items-center font-medium px-4 py-2 rounded-lg active:bg-gray-100"
                        >
                            <Icons.ChevronLeft size={20} className="mr-1" /> ‰∏ä‰∏ÄÈ¢ò
                        </button>
                        
                        <button 
                            onClick={nextQuestion}
                            disabled={currentIndex === questions.length - 1} 
                            className={`flex items-center font-medium px-6 py-2.5 rounded-xl transition-colors shadow-md ${showResult ? 'bg-blue-600 text-white active:bg-blue-700' : 'bg-gray-100 text-gray-400'}`}
                        >
                            ‰∏ã‰∏ÄÈ¢ò <Icons.ChevronRight size={20} className="ml-1" />
                        </button>
                    </div>

                    {/* ÈîôËØØËß£ÊûêÂºπÁ™ó (ÂèØÈÄâ) */}
                    {showResult && !isCorrect && (
                         <div className="mt-4 p-4 bg-red-50 border border-red-200 rounded-xl animate-fade-in mb-20 md:mb-0">
                            <p className="font-bold text-red-700 mb-1 text-sm">ÂõûÁ≠îÈîôËØØ</p>
                            <p className="text-red-600 text-sm mb-2">Ê≠£Á°ÆÊòØÔºö<span className="font-bold">{isEnToCn ? currentTerm.cn : currentTerm.en}</span></p>
                            {wrongOption && (
                                <div className="bg-white/60 p-2 rounded-lg text-xs text-red-800 border border-red-100">
                                    <span className="font-semibold">Ëß£Êûê:</span> ‰Ω†ÈÄâÁöÑ <span className="font-medium">"{isEnToCn ? wrongOption.cn : wrongOption.en}"</span> 
                                    ÂØπÂ∫îÁöÑ{isEnToCn ? 'ÂçïËØç' : 'ÊÑèÊÄù'}ÊòØ <span className="font-medium italic">{isEnToCn ? wrongOption.en : wrongOption.cn}</span>„ÄÇ
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        // ÁÆÄÁ≠îÈ¢òÊ®°ÂºèÁªÑ‰ª∂
        const QAView = ({ onBack, isShuffle }) => {
            const [questions, setQuestions] = useState([]);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [mode, setMode] = useState('wordbank'); 
            const [userWords, setUserWords] = useState([]); 
            const [userText, setUserText] = useState(''); 
            const [shuffledWords, setShuffledWords] = useState([]); 
            const [feedback, setFeedback] = useState(null); 
            const [showHint, setShowHint] = useState(false); 
            const [isFlipped, setIsFlipped] = useState(false); 

            useEffect(() => {
                if (isShuffle) {
                    setQuestions(shuffleArray([...qaDataRaw]));
                } else {
                    setQuestions([...qaDataRaw]);
                }
                setCurrentIndex(0);
            }, [isShuffle]);

            const currentQA = questions[currentIndex];

            useEffect(() => {
                if (currentQA) resetQuestion();
            }, [currentIndex, mode, currentQA]);

            const resetQuestion = () => {
                const words = currentQA.answer.split(' ').map(w => w.trim()).filter(w => w);
                setShuffledWords(shuffleArray(words.map((w, i) => ({ id: i, text: w }))));
                setUserWords([]);
                setUserText('');
                setFeedback(null);
                setShowHint(false);
                setIsFlipped(false);
            };

            const handleWordSelect = (wordObj) => {
                if (feedback === 'correct') return;
                setUserWords([...userWords, wordObj]);
                setShuffledWords(shuffledWords.filter(w => w.id !== wordObj.id));
            };

            const handleWordRemove = (wordObj) => {
                if (feedback === 'correct') return;
                setUserWords(userWords.filter(w => w.id !== wordObj.id));
                setShuffledWords([...shuffledWords, wordObj]);
            };

            const checkWordBank = () => {
                const userSentence = userWords.map(w => w.text).join(' ');
                const cleanUser = userSentence.replace(/[^\w\s]/g, '').toLowerCase();
                const cleanAns = currentQA.answer.replace(/[^\w\s]/g, '').toLowerCase();
                if (cleanUser === cleanAns) setFeedback('correct');
                else setFeedback('incorrect');
            };

            const checkTyping = () => {
                const cleanUser = userText.toLowerCase();
                const missingKeywords = currentQA.keywords.filter(k => !cleanUser.includes(k.toLowerCase()));
                if (missingKeywords.length === 0) setFeedback('correct');
                else setFeedback('incorrect');
            };

            const handleNext = () => {
                if (currentIndex < questions.length - 1) {
                    setCurrentIndex(c => c + 1);
                } else {
                    alert("ÊÅ≠ÂñúÔºÅÊú¨ËΩÆÂ§ç‰π†ÂÆåÊØïÔºÅ");
                    onBack();
                }
            };
            const handlePrev = () => {
                if (currentIndex > 0) setCurrentIndex(c => c - 1);
            };

            if (questions.length === 0) return <div>Loading...</div>;

            return (
                <div className="max-w-3xl mx-auto pt-4 md:pt-6 px-2 md:px-0 pb-28">
                    {/* Header */}
                    <div className="flex flex-col gap-4 mb-4">
                        <div className="flex justify-between items-center">
                             <button onClick={onBack} className="text-gray-500 hover:text-gray-700 flex items-center p-2">
                                <Icons.ArrowLeft size={18} className="mr-1" /> ‰∏ªÈ°µ
                             </button>
                             <span className="px-2 py-1 bg-gray-100 rounded text-xs text-gray-400 font-medium">Q: {currentIndex + 1}/{questions.length}</span>
                        </div>
                        
                        {/* Mode Switcher - Scrollable on mobile */}
                        <div className="flex space-x-2 bg-gray-100 p-1.5 rounded-xl overflow-x-auto no-scrollbar">
                             {[
                                 {id: 'flashcard', icon: Icons.RotateCw, label: 'ÁøªËΩ¨ËÆ∞ÂøÜ'},
                                 {id: 'wordbank', icon: Icons.MousePointer2, label: 'ÊãºËØçÊ®°Âºè'},
                                 {id: 'typing', icon: Icons.Type, label: 'ÈªòÂÜôÊ®°Âºè'}
                             ].map(m => (
                                <button 
                                    key={m.id}
                                    onClick={() => setMode(m.id)}
                                    className={`px-3 py-2 rounded-lg flex items-center text-xs md:text-sm font-medium whitespace-nowrap transition-all flex-shrink-0 ${mode === m.id ? 'bg-white text-purple-600 shadow-sm' : 'text-gray-500'}`}
                                >
                                    <m.icon size={14} className="mr-1.5" /> {m.label}
                                </button>
                             ))}
                        </div>
                    </div>

                    <div className="bg-white rounded-2xl shadow-xl p-5 md:p-8 mb-6 relative">
                        <div className="mb-4 flex justify-between items-start">
                            <h2 className="text-xl md:text-2xl font-bold text-gray-800 leading-snug pr-2">{currentQA.question}</h2>
                            <button 
                                onClick={() => setShowHint(!showHint)}
                                className={`flex-shrink-0 flex items-center px-3 py-1.5 rounded-full text-xs md:text-sm font-medium border transition-colors ${showHint ? 'bg-yellow-50 text-yellow-700 border-yellow-200' : 'bg-gray-50 text-gray-500 border-gray-200'}`}
                            >
                                <Icons.Lightbulb size={14} className={`mr-1 ${showHint ? 'text-yellow-500' : ''}`} />
                                {showHint ? 'ÈöêËóè' : 'ÊèêÁ§∫'}
                            </button>
                        </div>

                        {showHint && (
                            <div className="mb-6 p-3 bg-yellow-50 rounded-xl border border-yellow-100 animate-fade-in text-xs md:text-sm text-yellow-800">
                                <span className="font-bold mr-2">üîë ÂÖ≥ÈîÆËØç:</span>
                                {currentQA.keywords.join(", ")}
                            </div>
                        )}

                        {/* Flashcard Mode */}
                        {mode === 'flashcard' && (
                            <div className="perspective-1000 w-full h-64 md:h-80 cursor-pointer group mb-4" onClick={() => setIsFlipped(!isFlipped)}>
                                <div className={`relative w-full h-full duration-500 transform-style-3d transition-transform ${isFlipped ? 'rotate-y-180' : ''}`}>
                                    <div className="absolute w-full h-full backface-hidden bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg p-8 flex flex-col items-center justify-center text-white">
                                        <div className="text-5xl opacity-20 mb-2">?</div>
                                        <h3 className="text-lg md:text-xl font-bold text-center">ÁÇπÂáªÊü•ÁúãÁ≠îÊ°à</h3>
                                    </div>
                                    <div className="absolute w-full h-full backface-hidden rotate-y-180 bg-white rounded-2xl shadow-lg border-2 border-purple-100 p-6 flex flex-col items-center justify-center overflow-y-auto">
                                        <h3 className="text-lg font-bold text-gray-800 mb-2 text-center">{currentQA.answer}</h3>
                                        <div className="w-12 h-1 bg-purple-100 mx-auto my-3 rounded-full"></div>
                                        <p className="text-gray-500 text-xs md:text-sm text-center">{currentQA.explanation}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Word Bank Mode */}
                        {mode === 'wordbank' && (
                            <div className="space-y-4 md:space-y-6">
                                <div className={`min-h-[100px] p-3 rounded-xl border-2 flex flex-wrap gap-2 content-start transition-colors ${feedback === 'correct' ? 'border-green-500 bg-green-50' : feedback === 'incorrect' ? 'border-red-300 bg-red-50' : 'border-gray-200 bg-gray-50'}`}>
                                    {userWords.length === 0 && <span className="text-gray-400 text-sm select-none">ÁÇπÂáª‰∏ãÊñπÂçïËØç...</span>}
                                    {userWords.map(w => (
                                        <button key={w.id} onClick={() => handleWordRemove(w)} className="px-2 py-1 bg-white border border-purple-200 text-purple-800 rounded shadow-sm text-sm font-medium animate-pop-in">
                                            {w.text}
                                        </button>
                                    ))}
                                </div>
                                {feedback !== 'correct' && (
                                    <div className="flex justify-end">
                                        <button onClick={checkWordBank} disabled={userWords.length === 0} className="px-5 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow text-sm disabled:opacity-50">
                                            Ê£ÄÊü•
                                        </button>
                                    </div>
                                )}
                                <div className="border-t pt-4">
                                    <div className="flex flex-wrap gap-2 justify-center">
                                        {shuffledWords.map(w => (
                                            <button key={w.id} onClick={() => handleWordSelect(w)} className="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg border border-gray-200 text-sm active:bg-purple-100">
                                                {w.text}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Typing Mode */}
                        {mode === 'typing' && (
                            <div className="space-y-4">
                                <textarea 
                                    value={userText}
                                    onChange={(e) => setUserText(e.target.value)}
                                    placeholder="ËæìÂÖ•Ëã±ÊñáÁ≠îÊ°à..."
                                    disabled={feedback === 'correct'}
                                    className={`w-full h-32 p-3 rounded-xl border-2 focus:outline-none text-base ${feedback === 'correct' ? 'border-green-500 bg-green-50' : 'border-gray-300 focus:border-purple-500'}`}
                                />
                                {feedback !== 'correct' && (
                                    <div className="flex justify-end">
                                        <button onClick={checkTyping} disabled={!userText.trim()} className="px-5 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow text-sm disabled:opacity-50">
                                            Êèê‰∫§
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Feedback */}
                        {feedback === 'correct' && (
                            <div className="mt-4 p-3 bg-green-100 rounded-xl border border-green-200 flex items-center animate-fade-in text-green-800">
                                <Icons.Trophy className="w-5 h-5 mr-2" />
                                <span className="font-bold text-sm">ÂõûÁ≠îÊ≠£Á°Æ! Perfect!</span>
                            </div>
                        )}

                        {feedback === 'incorrect' && (
                            <div className="mt-4 p-4 bg-red-50 rounded-xl border border-red-100 animate-fade-in">
                                <h3 className="text-red-800 font-bold flex items-center mb-2 text-sm"><Icons.X className="w-4 h-4 mr-1" /> ÈúÄÂÜçÊé•ÂÜçÂéâ</h3>
                                <div className="text-gray-700 space-y-2 bg-white p-3 rounded-lg border border-red-100 text-sm">
                                    <p><span className="font-bold text-xs text-gray-400 uppercase">Correct:</span> <br/><span className="text-green-700 font-medium">{currentQA.answer}</span></p>
                                    <p><span className="font-bold text-xs text-gray-400 uppercase">Meaning:</span> <br/>{currentQA.explanation}</p>
                                </div>
                                <button onClick={() => setFeedback(null)} className="mt-3 w-full py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium">ÈáçËØï</button>
                            </div>
                        )}
                    </div>
                    
                    {/* Sticky Footer for Navigation */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t p-3 flex justify-between items-center z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] md:static md:bg-transparent md:border-0 md:shadow-none md:p-0">
                        <button onClick={handlePrev} disabled={currentIndex === 0} className="px-4 py-2 text-gray-500 rounded-lg font-medium flex items-center disabled:opacity-30 active:bg-gray-50">
                            <Icons.ArrowLeft size={16} className="mr-1" /> ‰∏ä‰∏ÄÈ¢ò
                        </button>
                        <button onClick={handleNext} className="px-5 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium flex items-center shadow-sm text-sm active:bg-purple-800">
                            {currentIndex === questions.length - 1 ? 'ÂÆåÊàê' : '‰∏ã‰∏ÄÈ¢ò'} <Icons.ArrowRight size={16} className="ml-1" />
                        </button>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('menu'); 
            const [termMode, setTermMode] = useState('en-to-cn'); 
            const [isShuffle, setIsShuffle] = useState(true); 

            const handleSelect = (selectedView, mode = null) => {
                setView(selectedView);
                if (mode) setTermMode(mode);
            };

            return (
                <div className="container mx-auto px-0 md:px-4">
                    {view === 'menu' && <MainMenu onSelect={handleSelect} isShuffle={isShuffle} setIsShuffle={setIsShuffle} />}
                    {view === 'terms' && <TermsView onBack={() => setView('menu')} isShuffle={isShuffle} termMode={termMode} />}
                    {view === 'qa' && <QAView onBack={() => setView('menu')} isShuffle={isShuffle} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>